(()=>{"use strict";function e(e,t,n,i){for(let l of t)e+=`<div class ='card__items card__items--${i}'\n                          data-suite=${l[1]}\n                          data-dignity=${l[0]}>\n\n                          ${n(l,i)}\n             </div>`;return e}function t(e,t){return"open"===t?`<div class ="card__firstSymbol">\n                        ${"1"===e[0]?"10":e[0]}\n                    </div>\n                    <div class ="card__secondSymbol">\n                        <img src=${n(e[1])}>\n                    </div>\n                    <div class ="card__thirdSymbol">\n                        <img src=${n(e[1])} class = 'card__centerPicture'>\n                    </div>\n                    <div class ="card__fourSymbol ">\n                        <img src=${n(e[1])}>\n                    </div>\n                    <div class ="card__fiveSymbol">\n                        ${"1"===e[0]?"10":e[0]}\n                    </div>`:"close"===t?'<div class ="card__shirt">\n                    <img src="img/рубашка.svg" alt="Рубашка">\n                </div>':void 0}function n(e){let t="";return"s"===e?(t='"./img/Spades.svg" alt="Пики"',t):"d"===e?(t='"img/Diamonds.svg" alt="<Бубны>"',t):"h"===e?(t='"img/Hearts.svg" alt="Червы"',t):"c"===e?(t='"img/Clubs.svg" alt="Трефы"',t):void 0}function i(e){e.sort((()=>Math.random()-.5))}let l,a=document.querySelector(".container");function d(e){return`<div class ="card__firstSymbol">\n                        ${"1"===e.dataset.dignity?"10":e.dataset.dignity}\n                    </div>\n                    <div class ="card__secondSymbol">\n                        <img src=${n(e.dataset.suite)}>\n                    </div>\n                    <div class ="card__thirdSymbol">\n                        <img src=${n(e.dataset.suite)} class = 'card__centerPicture'>\n                    </div>\n                    <div class ="card__fourSymbol ">\n                        <img src=${n(e.dataset.suite)}>\n                    </div>\n                    <div class ="card__fiveSymbol">\n                        ${"1"===e.dataset.dignity?"10":e.dataset.dignity}\n                    </div>`}!function n(){!async function({contentElement:e}){window.localStorage.removeItem("level"),window.localStorage.removeItem("gameCardCollection"),window.localStorage.removeItem("fullCardCollection"),e.innerHTML='<div class="select__container">\n                            <div class="select__title">Выбери сложность</div>\n                            <div class="select__levelsbox">\n                                <div class ="select__levelbutton">1</div>\n                                <div class="select__levelbutton">2</div>\n                                <div class="select__levelbutton">3</div>\n                            </div>     \n                            <div class="select__startbutton  global__button global__button--disabled">Старт</div>       \n                        </div>';let t=document.querySelectorAll(".select__levelbutton"),n=document.querySelector(".select__startbutton");n.disabled=!0;for(let e of t)e.addEventListener("click",(()=>{for(let e of t)e.classList.remove("select__levelbutton--active");e.classList.add("select__levelbutton--active"),window.localStorage.setItem("level",e.textContent),n.disabled=!1,n.classList.remove("global__button--disabled")}))}({contentElement:a});let s=document.querySelector(".select__startbutton");s.addEventListener("click",(()=>{!0!==s.disabled?(l=window.localStorage.getItem("level"),function({levelOfGame:e}){let t=[],n=[],l=["s","h","d","c"],a=["A","K","Q","J","1","9","8","7","6"];for(let e of l)for(let n of a)t.push(n+e);window.localStorage.setItem("fullCardCollection",JSON.stringify(t)),i(t),"1"===e&&(t.length=3),"2"===e&&(t.length=6),"3"===e&&(t.length=9),n=t.concat(t),i(n),window.localStorage.setItem("gameCardCollection",JSON.stringify(n))}({levelOfGame:l}),async function({contentElement:n}){let i,l="",a="close",d=JSON.parse(window.localStorage.getItem("gameCardCollection")),s=JSON.parse(window.localStorage.getItem("fullCardCollection")),c='<div class="header__container">\n                            <div class="header__timerfield">\n                                <div class="header__timertitle">\n                                    <div class="header__timernamemin">min</div>\n                                    <div class="header__timernamesec">sec</div>\n                                </div>\n                                <div class="header__timerclock">\n                                    <div class="header__timercounter header__timercounter--decimin">0</div>\n                                    <div class="header__timercounter header__timercounter--min">0</div>\n                                    <div class="header__timercounter header__timercounter--point">.</div>\n                                    <div class="header__timercounter header__timercounter--decisec">0</div>\n                                    <div class="header__timercounter header__timercounter--sec">0</div>\n                                </div>\n                            </div>\n                            <div class="header__button global__button global__button--disabled">Начать заново</div>\n                          </div>';6===d.length&&(i="easy"),12===d.length&&(i="medium"),18===d.length&&(i="hard"),l=`${c}\n        \n    <div class = "card__container card__container--full center">\n        ${e("",s,t,a)}\n    </div>`,n.innerHTML=l,setTimeout((()=>{a="open",l=`${c}\n        \n    <div class = "card__container card__container--full center">\n        ${e("",s,t,a)}\n    </div>`,n.innerHTML=l}),1e3),setTimeout((()=>{l=`${c}\n            \n    <div class = "card__container card__container--${i}">\n        ${e("",d,t,a)}\n    </div>`,n.innerHTML=l}),2e3),setTimeout((()=>{a="close",l=`${c}\n            \n    <div class = "card__container card__container--${i}">\n        ${e("",d,t,a)}\n    </div>`,n.innerHTML=l}),7e3)}({contentElement:a}),setTimeout((()=>function(){let e=document.querySelector(".header__button");e.classList.remove("global__button--disabled"),e.addEventListener("click",(()=>{n()}));let t=document.querySelectorAll(".card__items"),i=[];for(let e of t)e.addEventListener("click",(()=>{e.classList.remove("card__items--close"),e.classList.add("card__items--open"),e.innerHTML=d(e);let l=e.dataset.suite+e.dataset.dignity;i.push(l),setTimeout((()=>{i.length>0&&i.length%2==0&&i[i.length-1]!==i[i.length-2]&&(alert("Вы проиграли!"),n()),i.length===t.length&&(alert("Вы выиграли!"),n())}),5)}))}()),7001)):alert("Выберите сложность!")}))}()})();