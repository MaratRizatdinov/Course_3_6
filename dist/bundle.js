(()=>{"use strict";function e(e){var t,c=e.contentElement,i=e.gameStatus,o="",r="close",l=window.localStorage.getItem("gameCardCollection"),s=JSON.parse(l),d=window.localStorage.getItem("fullCardCollection"),m=JSON.parse(d),_='<div class="header__container">\n                            <div class="header__timerfield">\n                                <div class="header__timertitle">\n                                    <div class="header__timernamemin">min</div>\n                                    <div class="header__timernamesec">sec</div>\n                                </div>\n                                <div class="header__timerclock">\n                                    <div class="header__timercounter header__timercounter--decimin">0</div>\n                                    <div class="header__timercounter header__timercounter--min">0</div>\n                                    <div class="header__timercounter header__timercounter--point">.</div>\n                                    <div class="header__timercounter header__timercounter--decisec">0</div>\n                                    <div class="header__timercounter header__timercounter--sec">0</div>\n                                </div>\n                            </div>\n                            <div class="header__button global__button global__button--disabled">Начать заново</div>\n                          </div>';if(6===s.length&&(t="easy"),12===s.length&&(t="medium"),18===s.length&&(t="hard"),o="".concat(_,'\n        \n    <div class = "card__container card__container--full center">\n        ').concat(n("",m,a,r),"\n    </div>"),c.innerHTML=o,setTimeout((function(){r="open",o="".concat(_,'\n        \n    <div class = "card__container card__container--full center">\n        ').concat(n("",m,a,r),"\n    </div>"),c.innerHTML=o}),"gameTime"===i?1e3:0),"gameTime"!==i)return c;setTimeout((function(){o="".concat(_,'\n            \n    <div class = "card__container card__container--').concat(t,'">\n        ').concat(n("",s,a,r),"\n    </div>"),c.innerHTML=o}),2e3),setTimeout((function(){r="close";var e=(new Date).getTime();window.localStorage.setItem("start",String(e)),o="".concat(_,'\n            \n    <div class = "card__container card__container--').concat(t,'">\n        ').concat(n("",s,a,r),"\n    </div>"),c.innerHTML=o}),7e3)}function t(t){var n=t.contentElement,a=t.gameStatus,c=t.gameResult;e({contentElement:n,gameStatus:a}),setTimeout((function(){var e,t,n,a,i,o,r=document.createElement("div");r.className="end__container global__container center",r.innerHTML='<div class="end__img"><img src='.concat("win"===c?'"img/WinImage.svg" alt="Win"':'"img/LossImage.svg" alt="Win"','></div>\n                             <div class="end__title"> ').concat("win"===c?"&nbspВы выиграли!":"Вы проиграли!",'</div>\n                             <div class="end__text">Затраченное время</div>\n                             <div class="end__time">').concat((e=(new Date).getTime(),t=Number(window.localStorage.getItem("start")),a=(n=Math.floor((e-t)/1e3))>59?n%60:n,i=Math.floor(n/60),o=a>9?String(a):"0"+String(a),(i>9?String(i):"0"+String(i))+"."+o),'</div>\n                             <div class="end__startbutton  global__button ">Играть снова</div>');var l=document.querySelector(".container");l.style.opacity="0.3",l=l.after(r),document.querySelector(".end__container").style.opacity="1.0"}),0)}function n(e,t,n,a){for(var c=0,i=t;c<i.length;c++){var o=i[c];e+="<div class ='card__items card__items--".concat(a,"'\n                          data-suite=").concat(o[1],"\n                          data-dignity=").concat(o[0],">\n\n                          ").concat(n(o,a),"\n             </div>")}return e}function a(e,t){return"open"===t?'<div class ="card__firstSymbol">\n                        '.concat("1"===e[0]?"10":e[0],'\n                    </div>\n                    <div class ="card__secondSymbol">\n                        <img src=').concat(c(e[1]),'>\n                    </div>\n                    <div class ="card__thirdSymbol">\n                        <img src=').concat(c(e[1])," class = 'card__centerPicture'>\n                    </div>\n                    <div class =\"card__fourSymbol \">\n                        <img src=").concat(c(e[1]),'>\n                    </div>\n                    <div class ="card__fiveSymbol">\n                        ').concat("1"===e[0]?"10":e[0],"\n                    </div>"):"close"===t?'<div class ="card__shirt">\n                    <img src="img/рубашка.svg" alt="Рубашка">\n                </div>':void 0}function c(e){return"s"===e?'"./img/Spades.svg" alt="Пики"':"d"===e?'"img/Diamonds.svg" alt="<Бубны>"':"h"===e?'"img/Hearts.svg" alt="Червы"':"c"===e?'"img/Clubs.svg" alt="Трефы"':void 0}function i(e){e.sort((function(){return Math.random()-.5}))}var o,r,l=document.querySelector(".container");!function n(){!function(e){var t=e.contentElement;window.localStorage.removeItem("level"),window.localStorage.removeItem("gameCardCollection"),window.localStorage.removeItem("fullCardCollection"),t.innerHTML='<div class="select__container global__container">\n                            <div class="select__title">Выбери сложность</div>\n                            <div class="select__levelsbox">\n                                <div class ="select__levelbutton">1</div>\n                                <div class="select__levelbutton">2</div>\n                                <div class="select__levelbutton">3</div>\n                            </div>     \n                            <div class="select__startbutton  global__button global__button--disabled">Старт</div>       \n                        </div>';var n=document.querySelectorAll(".select__levelbutton"),a=document.querySelector(".select__startbutton");a.disabled=!0;for(var c=function(e){e.addEventListener("click",(function(){for(var t=0,c=n;t<c.length;t++)c[t].classList.remove("select__levelbutton--active");e.classList.add("select__levelbutton--active"),window.localStorage.setItem("level",e.textContent),window.localStorage.setItem("gameStatus","gameTime"),a.disabled=!1,a.classList.remove("global__button--disabled")}))},i=0,o=n;i<o.length;i++)c(o[i])}({contentElement:l});var a=document.querySelector(".select__startbutton");a.addEventListener("click",(function(){!0!==a.disabled?(o=window.localStorage.getItem("level"),r=window.localStorage.getItem("gameStatus"),function(e){for(var t,n=e.levelOfGame,a=[],c=["A","K","Q","J","1","9","8","7","6"],o=0,r=["s","h","d","c"];o<r.length;o++)for(var l=r[o],s=0,d=c;s<d.length;s++){var m=d[s];a.push(m+l)}window.localStorage.setItem("fullCardCollection",JSON.stringify(a)),i(a),"1"===n&&(a.length=3),"2"===n&&(a.length=6),"3"===n&&(a.length=9),i(t=a.concat(a)),window.localStorage.setItem("gameCardCollection",JSON.stringify(t))}({levelOfGame:o}),e({contentElement:l,gameStatus:r}),setTimeout((function(){return function(){var e=document.querySelector(".header__button");e.classList.remove("global__button--disabled"),e.addEventListener("click",(function(){n()}));for(var a=document.querySelectorAll(".card__items"),i=[],o=function(e){e.addEventListener("click",(function(){var o=e.dataset.suite+e.dataset.dignity;e.classList.contains("card__items--close")&&i.push(o),e.classList.remove("card__items--close"),e.classList.add("card__items--open"),e.innerHTML=function(e){return'<div class ="card__firstSymbol">\n                        '.concat("1"===e.dataset.dignity?"10":e.dataset.dignity,'\n                    </div>\n                    <div class ="card__secondSymbol">\n                        <img src=').concat(c(e.dataset.suite),'>\n                    </div>\n                    <div class ="card__thirdSymbol">\n                        <img src=').concat(c(e.dataset.suite)," class = 'card__centerPicture'>\n                    </div>\n                    <div class =\"card__fourSymbol \">\n                        <img src=").concat(c(e.dataset.suite),'>\n                    </div>\n                    <div class ="card__fiveSymbol">\n                        ').concat("1"===e.dataset.dignity?"10":e.dataset.dignity,"\n                    </div>")}(e),setTimeout((function(){i.length>0&&i.length%2==0&&i[i.length-1]!==i[i.length-2]&&(window.localStorage.setItem("gameStatus","gameEnd"),r=window.localStorage.getItem("gameStatus"),t({contentElement:l,gameStatus:r,gameResult:"loss"}),setTimeout((function(){document.querySelector(".end__startbutton").addEventListener("click",(function(){window.localStorage.removeItem("start"),window.localStorage.removeItem("gameStatus");var e=document.querySelector(".end__container"),t=document.querySelector(".container");e.remove(),t.style.opacity="1",n()}))}),1)),i.length===a.length&&(window.localStorage.setItem("gameStatus","gameEnd"),r=window.localStorage.getItem("gameStatus"),t({contentElement:l,gameStatus:r,gameResult:"win"}),setTimeout((function(){document.querySelector(".end__startbutton").querySelector(".end__startbutton").addEventListener("click",(function(){window.localStorage.removeItem("start"),window.localStorage.removeItem("gameStatus");var e=document.querySelector(".end__container"),t=document.querySelector(".end__container");e.remove(),t.style.opacity="1",n()}))}),1))}),5)}))},s=0,d=a;s<d.length;s++)o(d[s])}()}),7001)):alert("Выберите сложность!")}))}()})();