{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://course_3/./src/js/render.js","webpack://course_3/./src/js/tools.js","webpack://course_3/./src/js/index.js"],"sourcesContent":["//----Стартовая страница----\n\nexport async function renderStartPage({ contentElement }) {\n    window.localStorage.removeItem(\"level\");\n    window.localStorage.removeItem(\"gameCardCollection\");\n    window.localStorage.removeItem(\"fullCardCollection\");\n\n    let selectPageContent = `<div class=\"select__container\">\n                            <div class=\"select__title\">Выбери сложность</div>\n                            <div class=\"select__levelsbox\">\n                                <div class =\"select__levelbutton\">1</div>\n                                <div class=\"select__levelbutton\">2</div>\n                                <div class=\"select__levelbutton\">3</div>\n                            </div>     \n                            <div class=\"select__startbutton  global__button global__button--disabled\">Старт</div>       \n                        </div>`;\n    contentElement.innerHTML = selectPageContent;\n\n    let buttonElements = document.querySelectorAll(\".select__levelbutton\");\n    let startButton = document.querySelector(\".select__startbutton\");\n    startButton.disabled = true;\n\n    for (let key of buttonElements) {\n        key.addEventListener(\"click\", () => {\n            for (let key of buttonElements) {\n                key.classList.remove(\"select__levelbutton--active\");\n            }\n            key.classList.add(\"select__levelbutton--active\");\n            window.localStorage.setItem(\"level\", key.textContent);\n            startButton.disabled = false;\n            startButton.classList.remove(\"global__button--disabled\");\n        });\n    }\n}\n\n//----Страница-загрузка игры----\n\nexport async function renderGamePage({ contentElement }) {\n    let gamePageItems = ``;\n    let fullGamePageItems = ``;\n    let gamePageContent = \"\";\n    let level;\n    let cardShirt = \"close\";\n\n    let gameCards = JSON.parse(\n        window.localStorage.getItem(\"gameCardCollection\")\n    );\n\n    let fullGameCards = JSON.parse(\n        window.localStorage.getItem(\"fullCardCollection\")\n    );\n    let headerElement = `<div class=\"header__container\">\n                            <div class=\"header__timerfield\">\n                                <div class=\"header__timertitle\">\n                                    <div class=\"header__timernamemin\">min</div>\n                                    <div class=\"header__timernamesec\">sec</div>\n                                </div>\n                                <div class=\"header__timerclock\">\n                                    <div class=\"header__timercounter header__timercounter--decimin\">0</div>\n                                    <div class=\"header__timercounter header__timercounter--min\">0</div>\n                                    <div class=\"header__timercounter header__timercounter--point\">.</div>\n                                    <div class=\"header__timercounter header__timercounter--decisec\">0</div>\n                                    <div class=\"header__timercounter header__timercounter--sec\">0</div>\n                                </div>\n                            </div>\n                            <div class=\"header__button global__button global__button--disabled\">Начать заново</div>\n                          </div>`;\n\n    if (gameCards.length === 6) level = \"easy\";\n    if (gameCards.length === 12) level = \"medium\";\n    if (gameCards.length === 18) level = \"hard\";\n\n    // Первоначально показывем полную колоду (закрытую)\n\n    gamePageContent = `${headerElement}\n        \n    <div class = \"card__container card__container--full center\">\n        ${getRenderElement(\n            fullGamePageItems,\n            fullGameCards,\n            cardPicture,\n            cardShirt\n        )}\n    </div>`;\n\n    contentElement.innerHTML = gamePageContent;\n\n    // По истечении указанного времени показываем полную колоду(открытую)\n\n    setTimeout(() => {\n        cardShirt = \"open\";\n        gamePageContent = `${headerElement}\n        \n    <div class = \"card__container card__container--full center\">\n        ${getRenderElement(\n            fullGamePageItems,\n            fullGameCards,\n            cardPicture,\n            cardShirt\n        )}\n    </div>`;\n\n        contentElement.innerHTML = gamePageContent;\n    }, 1000);\n\n    // По истечении указанного времени показываем игровую колоду(открытую)\n\n    setTimeout(() => {\n        gamePageContent = `${headerElement}\n            \n    <div class = \"card__container card__container--${level}\">\n        ${getRenderElement(gamePageItems, gameCards, cardPicture, cardShirt)}\n    </div>`;\n\n        contentElement.innerHTML = gamePageContent;\n    }, 2000);\n\n    // По истечении указанного времени показываем игровую колоду(закрытую)\n\n    setTimeout(() => {\n        cardShirt = \"close\";\n\n        gamePageContent = `${headerElement}\n            \n    <div class = \"card__container card__container--${level}\">\n        ${getRenderElement(gamePageItems, gameCards, cardPicture, cardShirt)}\n    </div>`;\n\n        contentElement.innerHTML = gamePageContent;\n       \n        \n        \n        \n    }, 7000);\n}\n\n// ----Ниже находятся вспомогательные функции----\n\n//Функция генерирует контент игровых карт\n\nfunction getRenderElement(element, Arr, cardPicture, cardShirt) {\n    for (let key of Arr) {\n        element =\n            element +\n            `<div class ='card__items card__items--${cardShirt}'\n                          data-suite=${key[1]}\n                          data-dignity=${key[0]}>\n\n                          ${cardPicture(key, cardShirt)}\n             </div>`;\n    }\n\n    return element;\n}\n// Функция генерирует игральную карту\n\nfunction cardPicture(key, cardShirt) {\n    if (cardShirt === \"open\") {\n        return `<div class =\"card__firstSymbol\">\n                        ${key[0] === \"1\" ? \"10\" : key[0]}\n                    </div>\n                    <div class =\"card__secondSymbol\">\n                        <img src=${suitePict(key[1])}>\n                    </div>\n                    <div class =\"card__thirdSymbol\">\n                        <img src=${suitePict(\n                            key[1]\n                        )} class = 'card__centerPicture'>\n                    </div>\n                    <div class =\"card__fourSymbol \">\n                        <img src=${suitePict(key[1])}>\n                    </div>\n                    <div class =\"card__fiveSymbol\">\n                        ${key[0] === \"1\" ? \"10\" : key[0]}\n                    </div>`;\n    }\n    if (cardShirt === \"close\") {\n        return `<div class =\"card__shirt\">\n                    <img src=\"img/рубашка.svg\" alt=\"Рубашка\">\n                </div>`;\n    }\n}\n\n// Функция подставляет рисунок  масти\n\nexport function suitePict(suite) {\n    let picture = \"\";\n    if (suite === \"s\") {\n        picture = '\"./img/Spades.svg\" alt=\"Пики\"';\n        return picture;\n    }\n    if (suite === \"d\") {\n        picture = '\"img/Diamonds.svg\" alt=\"<Бубны>\"';\n        return picture;\n    }\n    if (suite === \"h\") {\n        picture = '\"img/Hearts.svg\" alt=\"Червы\"';\n        return picture;\n    }\n    if (suite === \"c\") {\n        picture = '\"img/Clubs.svg\" alt=\"Трефы\"';\n        return picture;\n    }\n}\n","// Функция получает перетасованную колоду из 36 карт.\n//Создает случайный массив карт в зависимости от уровня и помещает в localStorage\n\nexport function createRandomCardCollection({ levelOfGame }) {\n    let fullCardCollection = [];\n    let gameCardCollection = [];\n    let cardSuite = [\"s\", \"h\", \"d\", \"c\"];\n    let cardDignity = [\"A\", \"K\", \"Q\", \"J\", \"1\", \"9\", \"8\", \"7\", \"6\"];\n\n    for (let suite of cardSuite) {\n        for (let dignity of cardDignity) {\n            fullCardCollection.push(dignity + suite);\n        }\n    }\n    window.localStorage.setItem(\n        \"fullCardCollection\",\n        JSON.stringify(fullCardCollection)\n    );\n\n    shuffle(fullCardCollection);\n    if (levelOfGame === \"1\") fullCardCollection.length = 3;\n    if (levelOfGame === \"2\") fullCardCollection.length = 6;\n    if (levelOfGame === \"3\") fullCardCollection.length = 9;\n\n    gameCardCollection = fullCardCollection.concat(fullCardCollection);\n\n    shuffle(gameCardCollection);\n\n    window.localStorage.setItem(\n        \"gameCardCollection\",\n        JSON.stringify(gameCardCollection)\n    );\n}\n\n// Функция-рандомизатор\n\nfunction shuffle(array) {\n    array.sort(() => Math.random() - 0.5);\n}\n","import  \"../style/style.css\";\nimport { renderStartPage, renderGamePage, suitePict } from \"./render.js\";\nimport { createRandomCardCollection } from \"./tools.js\";\n\nlet contentElement = document.querySelector(\".container\");\nlet levelOfGame;\n\ngameStart();\n\nfunction gameStart() {\n    renderStartPage({ contentElement });\n\n    let startButton = document.querySelector(\".select__startbutton\");\n\n    startButton.addEventListener(\"click\", () => {\n        if (startButton.disabled === true) {\n            alert(\"Выберите сложность!\");\n            return;\n        }\n\n        levelOfGame = window.localStorage.getItem(\"level\");\n\n        createRandomCardCollection({ levelOfGame });\n\n        renderGamePage({ contentElement });\n\n        setTimeout(() => gameTime(), 7001);\n    });\n}\n\nfunction gameTime() {\n    let reStartButton = document.querySelector(\".header__button\");\n\n    reStartButton.classList.remove(\"global__button--disabled\");\n\n    reStartButton.addEventListener(\"click\", () => {\n        gameStart();\n    });\n\n    let cardsElement = document.querySelectorAll(\".card__items\");\n\n    let controlArray = [];\n    for (let key of cardsElement) {\n        key.addEventListener(\"click\", () => {\n            key.classList.remove(\"card__items--close\");\n            key.classList.add(\"card__items--open\");\n\n            key.innerHTML = cardPictureOnClick(key);\n            let clickCard = key.dataset.suite + key.dataset.dignity;\n            controlArray.push(clickCard);\n\n            setTimeout(() => {\n                if (controlArray.length > 0 && controlArray.length % 2 === 0) {\n                    if (\n                        controlArray[controlArray.length - 1] !==\n                        controlArray[controlArray.length - 2]\n                    ) {\n                        alert(\"Вы проиграли!\");\n                        gameStart();\n                    }\n                }\n                if (controlArray.length === cardsElement.length) {\n                    alert(\"Вы выиграли!\");\n                    gameStart();\n                }\n            }, 5);\n        });\n    }\n}\n\nfunction cardPictureOnClick(key) {\n    return `<div class =\"card__firstSymbol\">\n                        ${\n                            key.dataset.dignity === \"1\"\n                                ? \"10\"\n                                : key.dataset.dignity\n                        }\n                    </div>\n                    <div class =\"card__secondSymbol\">\n                        <img src=${suitePict(key.dataset.suite)}>\n                    </div>\n                    <div class =\"card__thirdSymbol\">\n                        <img src=${suitePict(\n                            key.dataset.suite\n                        )} class = 'card__centerPicture'>\n                    </div>\n                    <div class =\"card__fourSymbol \">\n                        <img src=${suitePict(key.dataset.suite)}>\n                    </div>\n                    <div class =\"card__fiveSymbol\">\n                        ${\n                            key.dataset.dignity === \"1\"\n                                ? \"10\"\n                                : key.dataset.dignity\n                        }\n                    </div>`;\n}\n"],"names":["getRenderElement","element","Arr","cardPicture","cardShirt","key","suitePict","suite","picture","shuffle","array","sort","Math","random","levelOfGame","contentElement","document","querySelector","cardPictureOnClick","dataset","dignity","gameStart","async","window","localStorage","removeItem","innerHTML","buttonElements","querySelectorAll","startButton","disabled","addEventListener","classList","remove","add","setItem","textContent","renderStartPage","getItem","fullCardCollection","gameCardCollection","cardSuite","cardDignity","push","JSON","stringify","length","concat","createRandomCardCollection","level","gamePageContent","gameCards","parse","fullGameCards","headerElement","setTimeout","renderGamePage","reStartButton","cardsElement","controlArray","clickCard","alert","gameTime"],"sourceRoot":""}